(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76b5b1f3"],{6272:function(n,e,t){"use strict";t("b37f")},"83c5":function(n,e,t){"use strict";t.r(e);var i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"code-layer"},[n._m(0),t("h2",{staticClass:"h2",attrs:{id:n.point[0].id}},[t("a",[n._v("promise 防抖")])]),t("p",[n._v("只有当promise完成才可以继续点击增加")]),t("CodeShow",{attrs:{list:n.code[0]},scopedSlots:n._u([{key:"content",fn:function(){return[t("v-row",{attrs:{align:"center",justify:"center"}},[t("p",[n._v("数量 "+n._s(n.count)+" 个")]),t("v-btn",{directives:[{name:"debounce-promise",rawName:"v-debounce-promise",value:n.click_pro,expression:"click_pro"}],staticClass:"mx-2",attrs:{dark:"",color:"indigo"}},[t("v-icon",{attrs:{dark:""}},[n._v(" mdi-plus ")])],1)],1)]},proxy:!0}])}),t("h2",{staticClass:"h2",attrs:{id:n.point[1].id}},[t("a",[n._v("延时防抖")])]),t("p",[n._v("时间结束可继续点击,默认2秒")]),t("CodeShow",{attrs:{list:n.code[1]},scopedSlots:n._u([{key:"content",fn:function(){return[t("v-row",{attrs:{align:"center",justify:"center"}},[t("p",[n._v("数量 "+n._s(n.count)+" 个")]),t("v-btn",{directives:[{name:"debounce-timing",rawName:"v-debounce-timing"}],staticClass:"mx-2",attrs:{dark:"",color:"indigo"},on:{click:function(e){n.count++}}},[t("v-icon",{attrs:{dark:""}},[n._v(" mdi-plus ")])],1)],1)]},proxy:!0}])})],1)},o=[function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("h1",{staticClass:"h1"},[t("a",[n._v("指令: 防抖节流")])])}],r=(t("d3b7"),t("3362")),c=[{template:'\n                <v-row align="center" justify="center">\n                    <p>数量 {{ count }} 个</p>\n                    <v-btn\n                        class="mx-2"\n                        v-debounce-promise="click_pro"\n                        dark\n                        color="indigo"\n                    >\n                        <v-icon dark> mdi-plus </v-icon>\n                    </v-btn>\n                </v-row>',js:"\n            export default {\n                data() {\n                    return {\n                        count: 0,\n                    };\n                },\n                methods: {\n                    click_pro() {\n                        return new Promise((resolve, reject) => {\n                            setTimeout(() => {\n                                this.count++;\n                                resolve(true);\n                            }, 3000);\n                        });\n                    },\n                },\n            };\n            // promise 防抖 指令必须绑定一个promise对象\n            Vue.directive('debounce-promise', {\n                bind: function (el, binding, vnode) {\n                    el.handler = () => {\n                        if (!run) {\n                            return\n                        }\n                        run = false\n                        binding.value().then((val) => {\n                            run = true\n                        }).catch((err) => {\n                            run = true\n                        })\n                    }\n                    let run = true\n                    el.addEventListener('click', el.handler)\n                },\n                unbind: function (el, binding, vnode) {\n                    el.removeEventListener('click', el.handler)\n                },\n            })\n            ",style:"",name:"debouncePromise",title:"指令: promise 防抖"},{template:'\n                <v-row align="center" justify="center">\n                    <p>数量 {{ count }} 个</p>\n                    <v-btn\n                        class="mx-2"\n                        v-debounce-timing\n                        v-on:click="count++"\n                        dark\n                        color="indigo"\n                    >\n                        <v-icon dark> mdi-plus </v-icon>\n                    </v-btn>\n                </v-row>',js:"\n            export default {\n                data() {\n                    return {\n                        count: 0,\n                    };\n                },\n            };\n            // 时间防抖   默认 2秒\n            Vue.directive('debounce-timing', {\n                bind: function (el, binding, vnode) {\n                    let time\n                    let run = true\n                    if (binding.expression) {\n                        time = binding.expression\n                    } else {\n                        time = 2000\n                    }\n                    el.handler = () => {\n                        if (!run) {\n                            return\n                        }\n                        run = false\n                        // 阻止点击事件\n                        el.style.pointerEvents = 'none'\n                        setTimeout(() => {\n                            el.style.pointerEvents = 'auto'\n                            run = true\n                        }, time)\n                    }\n                    el.addEventListener('click', el.handler)\n                },\n                unbind: function (el, binding, vnode) {\n                    el.removeEventListener('click', el.handler)\n                },\n            })\n            ",style:"",name:"debounceTiming",title:"指令: 时间防抖"}],s=[{id:"point-1",text:"promise 防抖",level:1},{id:"point-2",text:"延时防抖",level:1}],a={name:"antiShake",components:{},mixins:[r["a"]],data:function(){return{code:c,point:s,count:0}},computed:{},created:function(){this.$store.dispatch("system/tog_catalogue",this.point)},mounted:function(){},methods:{click_pro:function(){var n=this;return new Promise((function(e,t){setTimeout((function(){n.count++,n.$store.dispatch("system/add_notify",{type:"success",data:"复制成功",time:2e3}),e(!0)}),3e3)}))}}},u=a,l=(t("6272"),t("2877")),d=t("6544"),v=t.n(d),p=t("8336"),m=t("132d"),f=t("0fd9"),b=Object(l["a"])(u,i,o,!1,null,"617220a4",null);e["default"]=b.exports;v()(b,{VBtn:p["a"],VIcon:m["a"],VRow:f["a"]})},b37f:function(n,e,t){}}]);